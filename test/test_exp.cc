#include <stdio.h>
#include <stdlib.h>
#include <string>
#include <iostream>
#include <gtest/gtest.h>
#include <mympz/mympz.h>

using namespace mympz;

TEST(Mympz, Exp) {
  bignum_t x,y,p;
  std::string y_str;

  x = create("56789");
  p = create("5");
  y = exp(x, p);
  y_str = print_string(y);
  EXPECT_STREQ(y_str.c_str(), "590637621076197623482949");

  x = create("674315643215465435432147687843543243265354325667453654325435143");
  p = create("13");
  y = exp(x, p);
  y_str = print_string(y);
  EXPECT_STREQ(y_str.c_str(), "5959667809392760886698987575134897393886957933124059036104770574285529436356351229208020469340801871896155389889434339544431458346878891703295745646717778553228770233645857037654579210421427537233879612230094699386661928040557740896227578443794191033422350191456869794529310506658303749548347339138571932580645084307228484404217559176824720773385683110720180221938571074285415956525881521814894329568913307082100591916559702804185152795524106448985845622750561437417051659792996004679187444488840367518356911576306966538840837702387028370339192384671841508209407982170136725876129293153451145954436288845893450066652799651030313292247340298925056189199520850064089703855992652594531577501781429748853674657479183808653394474322251762565667209376570553511910783353145251615896277230830475086208190363800770702090221543");
}

int main(int argc, char* argv[]) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}