#include <stdio.h>
#include <stdlib.h>
#include <string>
#include <iostream>
#include <gtest/gtest.h>
#include <mympz/mympz.h>

using namespace mympz;

TEST(Mympz, Div) {
  bignum_t x,y;
  division_result_t z;
  std::string d_str, r_str;

  // x = create("56789");
  // y = create("123");
  // z = div(x, y);
  // d_str = print_string(z.first);
  // r_str = print_string(z.second);
  // EXPECT_STREQ(d_str.c_str(), "461");
  // EXPECT_STREQ(r_str.c_str(), "86");

  // x = create("5678932145424313244313232143542432");
  // y = create("12341235465432547623431431");
  // z = div(x, y);
  // d_str = print_string(z.first);
  // r_str = print_string(z.second);
  // EXPECT_STREQ(d_str.c_str(), "460159127");
  // EXPECT_STREQ(r_str.c_str(), "7549433452529100110221695");

  x = create(
    "0xAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "44FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA123"
    "4DDCAADD11223344FFBCDEA1234DDCDDCCAABB1289232CCAABB1289232CCAABB"
    "4DDCAADD11223344FFBCDEA1234DDCDDCCAABB1289232CCAABB1289232CCAABB"
    "44FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA123"
    "FFAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "FFAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "FFAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
  ,true);
  // std::cout << "x = " << print_string(x) << std::endl;
  y = create(
    "0xAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "44FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA123"
    "4DDCAADD11223344FFBCDEA1234DDCDDCCAABB1289232CCAABB1289232CCAABB"
    "4DDCAADD11223344FFBCDEA1234DDCDDCCAABB1289232CCAABB1289232CCAABB"
    "44FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA123"
    "FFAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "FFAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "FFAADD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233"
    "FFDDCCBB1234578436548278549091037548274903156042749036t8427489FF"
    "19DD11223344FFBCDEA1234DDCAADD11223344FFBCDEA1234DDCAADD112233DD"
  ,true);
  // std::cout << "y = " << print_string(y) << std::endl;
  z = div(y, x);
  d_str = print_string(z.first);
  r_str = print_string(z.second);
  EXPECT_STREQ(d_str.c_str(), "13407807929942597099574024998205846127479365820592393377723561443721764030073546976801874298166903427690031858186486050853753882811946569946433649006084096");
  // EXPECT_STREQ(r_str.c_str(), "13400811002173086103232379940399737695976640915403287563061963797177449054115012681709972098229752241617513334423202032927499603391832011246281641978639325");
}

int main(int argc, char* argv[]) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}