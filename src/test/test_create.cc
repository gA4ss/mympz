#include <stdio.h>
#include <stdlib.h>
#include <string>
#include <iostream>
#include <gtest/gtest.h>
#include <mympz/mympz.h>

using namespace mympz;

TEST(Mympz, Create) {
  bignum_t x;
  std::string x_str;

  x = create("b", true);
  x_str = print_string(x, true);
  EXPECT_STREQ(x_str.c_str(), "B");

  x = create("FcE6D8CdBaAf", true);
  x_str = print_string(x, true);
  EXPECT_STREQ(x_str.c_str(), "FCE6D8CDBAAF");

  x = create("18446744073709551615");
  x_str = print_string(x, true);
  EXPECT_STREQ(x_str.c_str(), "FFFFFFFFFFFFFFFF");

  x = create("18446744073709551616");
  x_str = print_string(x, true);
  EXPECT_STREQ(x_str.c_str(), "10000000000000000");

  x = create("123456789");
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "123456789");

  x = create("-98125467284318675842");
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "-98125467284318675842");

  x = create("981254672843186758421233231432432423213");
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "981254672843186758421233231432432423213");

  x = create("9812546728431867584212332314324324232139812546728431867584212332314324324232135465354312432174845684264812964314");
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "9812546728431867584212332314324324232139812546728431867584212332314324324232135465354312432174845684264812964314");

  x = create("420c9c0b9eaf1a3229bc0d88f01d2c08b30af8a5e0fcce30ee9348505d977a37f3cae23ea2ccd9499ba7592d03ef24d596b02a8fecdad7edf01761125c0884bfff301c53e81fc572ee101840f5aec73efb333", true);
  x_str = print_string(x, true, true);
  EXPECT_STREQ(x_str.c_str(), "420c9c0b9eaf1a3229bc0d88f01d2c08b30af8a5e0fcce30ee9348505d977a37f3cae23ea2ccd9499ba7592d03ef24d596b02a8fecdad7edf01761125c0884bfff301c53e81fc572ee101840f5aec73efb333");

  x = create("420c9c0b9eaf1a3229bc0d88f01d2c08b30af8a5e0fcce30ee9348505d977a37f3cae23ea2ccd9499ba7592d03ef24d596b02a8fecdad7edf01761125c0884bfff301c53e81fc572ee101840f5aec73efb333", true);
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "1234312432143214324578546543454254542378967589309104387594376598043769530485493276942754839217594275942376598475943217549832174983217659842374931207598423749321076592037849830276594274810928596759347");

  x = create("1234312432143214324578546543454254542378967589309104387594376598043769530485493276942754839217594275942376598475943217549832174983217659842374931207598423749321076592037849830276594274810928596759347");
  x_str = print_string(x, true, true);
  EXPECT_STREQ(x_str.c_str(), "420c9c0b9eaf1a3229bc0d88f01d2c08b30af8a5e0fcce30ee9348505d977a37f3cae23ea2ccd9499ba7592d03ef24d596b02a8fecdad7edf01761125c0884bfff301c53e81fc572ee101840f5aec73efb333");

  x = create("1234312432143214324578546543454254542378967589309104387594376598043769530485493276942754839217594275942376598475943217549832174983217659842374931207598423749321076592037849830276594274810928596759347");
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "1234312432143214324578546543454254542378967589309104387594376598043769530485493276942754839217594275942376598475943217549832174983217659842374931207598423749321076592037849830276594274810928596759347");

  x = create("1234312432143214324578546543454254542378967589309104387594376598043769530485493276942754839217594275942376598475943217549832174983217659842374931207598423749321076592037849830276594274810928596759347986753957429365947493021798540217430215769041274839215764920473216540921473819540297491320659802174903126594321749302165984317493265941790679402749312749302175942749312");
  x_str = print_string(x);
  EXPECT_STREQ(x_str.c_str(), "1234312432143214324578546543454254542378967589309104387594376598043769530485493276942754839217594275942376598475943217549832174983217659842374931207598423749321076592037849830276594274810928596759347986753957429365947493021798540217430215769041274839215764920473216540921473819540297491320659802174903126594321749302165984317493265941790679402749312749302175942749312");
}


int main(int argc, char* argv[]) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}